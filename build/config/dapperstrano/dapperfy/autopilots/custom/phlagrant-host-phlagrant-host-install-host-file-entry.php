<?php

/*************************************
*      Generated Autopilot file      *
*     ---------------------------    *
*Autopilot Generated By Dapperstrano *
*     ---------------------------    *
*************************************/

Namespace Core ;

class AutoPilotConfigured extends AutoPilot {

    public $steps ;

    public function __construct() {
	    $this->setSteps();
    }

    protected function setSteps() {

	    $this->steps =
	      array(

              array ( "Logging" => array( "log" => array( "log-message" => "Starting Dapperstrano Application Configuration of Virtual Machine Host"), ) ),

              array ( "Logging" => array( "log" => array( "log-message" => "Create our host file entry for our VM PHP App URL"), ) ),
              array ( "HostEditor" => array( "add" => array (
                  "guess" => true,
                  "host-name" => "www.workplace-systems.vm",
                  "host-ip" => $this->getCurrentTargetFromPapyrus(),
              ), ), ),

              array ( "Logging" => array( "log" => array( "log-message" => "Create our host file entry for our VM Jenkins URL"), ) ),
              array ( "HostEditor" => array( "add" => array (
                  "guess" => true,
                  "host-name" => "www.wsys-jenkins.vm",
                  "host-ip" => $this->getCurrentTargetFromPapyrus(),
              ), ), ),

              array ( "Logging" => array( "log" => array( "log-message" => "Dapperstrano Application Configuration of Virtual Machine Host Complete", ), ), ),

	      );

	  }

    protected function getCurrentTargetFromPapyrus() {
        $pf = \Model\AppConfig::getProjectVariable("phlagrant-box", true) ;
        if (is_array($pf) && count($pf)>0) {
            return $pf["target"] ; }
        return null ;
    }
}
